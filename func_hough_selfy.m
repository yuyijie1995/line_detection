function [ x3,x4,y3,y4,k,b ] = func_houghy( select_point_yy )
%UNTITLED3 Summary of this function goes here
%   Detailed explanation goes here
%  rho = x*cos(theta) + y*sin(theta).
theta_z=-pi/18*2:-pi/270:-pi/18*8;
%imag=imread('C:\Users\Single-Dog\Desktop\车道线识别程序M版本\图片集\lane_33087gy.bmp');
%theta_y=pi/18*11:pi/180:pi/18*17;
%select_point_yy=[258,61;261,62;265,63;271,64;319,72;114,73;116,74;118,75;120,76;121,77;123,78;125,79;127,80;129,81;131,82;133,83;135,84;138,85;140,86;222,123;223,124;224,125;226,126;227,127;229,128;230,129;232,130;234,131;236,132;238,133;240,134;242,135;244,136;246,137;249,138;251,139;253,140;255,141;257,142;259,143;261,144;263,145;265,146;267,147;269,148;271,149;273,150;275,151;277,152;280,153;282,154;284,155;286,156;288,157;290,158;292,159;294,160;296,161;298,162;300,163;303,164;305,165;307,166;309,167;311,168;313,169;315,170;317,171;319,172;321,173;324,174;326,175;328,176;330,177;332,178;334,179;335,180;337,181;340,182;342,183;344,184];
%select_point_zz=[192,46;136,58;131,59;127,60;123,61;118,62;113,63;108,64;104,65;100,66;95,67;74,71;69,72;65,73;280,74;279,75;278,76;277,77;276,78;275,79;274,80;272,81;271,82;270,83;269,84;268,85;267,86;201,139;199,142;198,143;197,144;196,145;195,146;195,147;193,148;192,149;191,150;190,151;189,152;188,153;187,154;185,155;184,156;183,157;182,158;181,159;179,160;178,161;177,162;176,163;175,164;174,165;172,166;171,167;170,168;169,169;168,170;166,171;165,172;164,173;163,174;162,175;161,176;159,177;158,178;157,179;156,180;155,181;154,182;153,183;151,184;150,185;149,186;148,187;147,188;145,189;144,190;143,191;142,192;141,193;140,194;138,195;137,196;136,197;135,198;134,199;132,200;131,201;130,202;129,203;128,204;127,205;125,206;124,207;123,208;118,212];
%theta_z_cos=cos(theta_z);
%theta_z_sin=sin(theta_z);
 yx=select_point_yy(:,1);
 yy=select_point_yy(:,2);
 [width,high]=size(yx);
%tho= select_point_zz*[theta_z_cos(1),theta_z_sin(1)]';
d=441;
a=180;
s=zeros(180,2*d);
z=cell(180,2*d);

for i=1:1:width
    for k=1:a
    p= round(yx(i)*cos(pi*k/180)+yy(i)*sin(pi*k/180));
    if(p>0)
        s(k,d+p)=s(k,d+p)+1;%（a，p）相应的累加器单元加一        
        z{k,d+p}=[z{k,d+p},[yx(i),yy(i)]'];%存储点坐标
    else
        ap=abs(p)+1;%若p小于0，则将点存储在（0，d）空间     
        s(k,ap)=s(k,ap)+1;%(a，p)相应的累加器单元加一          
        z{k,ap}=[z{k,ap},[yx(i),yy(i)]'];%存储
    end
    end
end

maxnum=1;
[width,high]=size(s);
        maxnum=s(1,1);
        numx=1;
        numy=1;
for i=1:width
    for jm=1:high
        if (maxnum<s(i,jm))
        maxnum=s(i,jm);
        numx=i;
        numy=jm;
        end
    end
end
        
        if (numy>d)
           tt=numy-d;
        else
            tt=-numy;
        end
        x1=cos(numx*pi/180)*tt;
        y1=sin(numx*pi/180)*tt;
        y2=0;
        x2=tt/cos(numx*pi/180);
%        imshow(imag);
  %      hold on;
        k=(y1-y2)/(x1-x2);
        b=y1-k*x1;
        x4=360;
        y3=60;
        y4=k*x4+b;
        x3=(y3-b)/k;
%        plot([x3,x4],[y3,y4],'g','linewidth',4.5)

end

